{"version":3,"file":"index.spec.js","sourceRoot":"","sources":["../../src/test/index.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { _test } from './testlib';\nimport * as expect from 'expect';\nimport { join, resolve, sep as pathSep } from 'path';\nimport { tmpdir } from 'os';\nimport semver = require('semver');\nimport { ts } from './helpers';\nimport { lstatSync, mkdtempSync } from 'fs';\nimport { npath } from '@yarnpkg/fslib';\nimport type _createRequire from 'create-require';\nimport { pathToFileURL } from 'url';\nimport { createExec } from './exec-helpers';\nimport {\n  BIN_CWD_PATH,\n  BIN_PATH,\n  BIN_SCRIPT_PATH,\n  DIST_DIR,\n  ROOT_DIR,\n  TEST_DIR,\n  testsDirRequire,\n  tsNodeTypes,\n  xfs,\n  contextTsNodeUnderTest,\n  CMD_TS_NODE_WITH_PROJECT_FLAG,\n  CMD_TS_NODE_WITHOUT_PROJECT_FLAG,\n  CMD_ESM_LOADER_WITHOUT_PROJECT,\n  EXPERIMENTAL_MODULES_FLAG,\n} from './helpers';\n\nconst exec = createExec({\n  cwd: TEST_DIR,\n});\n\nconst test = _test.context(contextTsNodeUnderTest);\n\ntest.suite('ts-node', (test) => {\n  test('should export the correct version', (t) => {\n    expect(t.context.tsNodeUnderTest.VERSION).toBe(\n      require('../../package.json').version\n    );\n  });\n  test('should export all CJS entrypoints', () => {\n    // Ensure our package.json \"exports\" declaration allows `require()`ing all our entrypoints\n    // https://github.com/TypeStrong/ts-node/pull/1026\n\n    testsDirRequire.resolve('ts-node');\n\n    // only reliably way to ask node for the root path of a dependency is Path.resolve(require.resolve('ts-node/package'), '..')\n    testsDirRequire.resolve('ts-node/package');\n    testsDirRequire.resolve('ts-node/package.json');\n\n    // All bin entrypoints for people who need to augment our CLI: `node -r otherstuff ./node_modules/ts-node/dist/bin`\n    testsDirRequire.resolve('ts-node/dist/bin');\n    testsDirRequire.resolve('ts-node/dist/bin.js');\n    testsDirRequire.resolve('ts-node/dist/bin-transpile');\n    testsDirRequire.resolve('ts-node/dist/bin-transpile.js');\n    testsDirRequire.resolve('ts-node/dist/bin-script');\n    testsDirRequire.resolve('ts-node/dist/bin-script.js');\n    testsDirRequire.resolve('ts-node/dist/bin-cwd');\n    testsDirRequire.resolve('ts-node/dist/bin-cwd.js');\n\n    // Must be `require()`able obviously\n    testsDirRequire.resolve('ts-node/register');\n    testsDirRequire.resolve('ts-node/register/files');\n    testsDirRequire.resolve('ts-node/register/transpile-only');\n    testsDirRequire.resolve('ts-node/register/type-check');\n\n    // `node --loader ts-node/esm`\n    testsDirRequire.resolve('ts-node/esm');\n    testsDirRequire.resolve('ts-node/esm.mjs');\n    testsDirRequire.resolve('ts-node/esm/transpile-only');\n    testsDirRequire.resolve('ts-node/esm/transpile-only.mjs');\n\n    testsDirRequire.resolve('ts-node/transpilers/swc');\n    testsDirRequire.resolve('ts-node/transpilers/swc-experimental');\n\n    testsDirRequire.resolve('ts-node/node10/tsconfig.json');\n    testsDirRequire.resolve('ts-node/node12/tsconfig.json');\n    testsDirRequire.resolve('ts-node/node14/tsconfig.json');\n    testsDirRequire.resolve('ts-node/node16/tsconfig.json');\n  });\n\n  test.suite('cli', (test) => {\n    test('should execute cli', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} hello-world`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, world!\\n');\n    });\n\n    test('shows usage via --help', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} --help`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toMatch(/Usage: ts-node /);\n    });\n    test('shows version via -v', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} -v`\n      );\n      expect(err).toBe(null);\n      expect(stdout.trim()).toBe(\n        'v' + testsDirRequire('ts-node/package').version\n      );\n    });\n    test('shows version of compiler via -vv', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} -vv`\n      );\n      expect(err).toBe(null);\n      expect(stdout.trim()).toBe(\n        `ts-node v${testsDirRequire('ts-node/package').version}\\n` +\n          `node ${process.version}\\n` +\n          `compiler v${testsDirRequire('typescript/package').version}`\n      );\n    });\n\n    test('should register via cli', async () => {\n      const { err, stdout } = await exec(\n        `node -r ts-node/register hello-world.ts`,\n        {\n          cwd: TEST_DIR,\n        }\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, world!\\n');\n    });\n\n    test('should execute cli with absolute path', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} \"${join(TEST_DIR, 'hello-world')}\"`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, world!\\n');\n    });\n\n    test('should print scripts', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -pe \"import { example } from './complex/index';example()\"`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('example\\n');\n    });\n\n    test('should provide registered information globally', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} env`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('object\\n');\n    });\n\n    test('should provide registered information on register', async () => {\n      const { err, stdout } = await exec(`node -r ts-node/register env.ts`, {\n        cwd: TEST_DIR,\n      });\n      expect(err).toBe(null);\n      expect(stdout).toBe('object\\n');\n    });\n\n    if (semver.gte(ts.version, '1.8.0')) {\n      test('should allow js', async () => {\n        const { err, stdout } = await exec(\n          [\n            CMD_TS_NODE_WITH_PROJECT_FLAG,\n            '-O \"{\\\\\"allowJs\\\\\":true}\"',\n            '-pe \"import { main } from \\'./allow-js/run\\';main()\"',\n          ].join(' ')\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe('hello world\\n');\n      });\n\n      test('should include jsx when `allow-js` true', async () => {\n        const { err, stdout } = await exec(\n          [\n            CMD_TS_NODE_WITH_PROJECT_FLAG,\n            '-O \"{\\\\\"allowJs\\\\\":true}\"',\n            '-pe \"import { Foo2 } from \\'./allow-js/with-jsx\\'; Foo2.sayHi()\"',\n          ].join(' ')\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe('hello world\\n');\n      });\n    }\n\n    test('should eval code', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -e \"import * as m from './module';console.log(m.example('test'))\"`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('TEST\\n');\n    });\n\n    test('should import empty files', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -e \"import './empty'\"`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('');\n    });\n\n    test('should throw errors', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -e \"import * as m from './module';console.log(m.example(123))\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch(\n        new RegExp(\n          \"TS2345: Argument of type '(?:number|123)' \" +\n            \"is not assignable to parameter of type 'string'\\\\.\"\n        )\n      );\n    });\n\n    test('should be able to ignore diagnostic', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --ignore-diagnostics 2345 -e \"import * as m from './module';console.log(m.example(123))\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch(\n        /TypeError: (?:(?:undefined|foo\\.toUpperCase) is not a function|.*has no method \\'toUpperCase\\')/\n      );\n    });\n\n    test('should work with source maps', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} \"throw error\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch(\n        [\n          `${join(TEST_DIR, 'throw error.ts')}:100`,\n          \"  bar() { throw new Error('this is a demo'); }\",\n          '                ^',\n          'Error: this is a demo',\n        ].join('\\n')\n      );\n    });\n\n    test('should work with source maps in --transpile-only mode', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --transpile-only \"throw error\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch(\n        [\n          `${join(TEST_DIR, 'throw error.ts')}:100`,\n          \"  bar() { throw new Error('this is a demo'); }\",\n          '                ^',\n          'Error: this is a demo',\n        ].join('\\n')\n      );\n    });\n\n    test('eval should work with source maps', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -pe \"import './throw error'\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch(\n        [\n          `${join(TEST_DIR, 'throw error.ts')}:100`,\n          \"  bar() { throw new Error('this is a demo'); }\",\n          '                ^',\n        ].join('\\n')\n      );\n    });\n\n    test('should support transpile only mode', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --transpile-only -pe \"x\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch('ReferenceError: x is not defined');\n    });\n\n    test('should throw error even in transpileOnly mode', async () => {\n      const { err } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --transpile-only -pe \"console.\"`\n      );\n      if (err === null) {\n        throw new Error('Command was expected to fail, but it succeeded.');\n      }\n\n      expect(err.message).toMatch('error TS1003: Identifier expected');\n    });\n\n    for (const flavor of [\n      '--transpiler ts-node/transpilers/swc transpile-only-swc',\n      '--transpiler ts-node/transpilers/swc-experimental transpile-only-swc',\n      '--swc transpile-only-swc',\n      'transpile-only-swc-via-tsconfig',\n      'transpile-only-swc-shorthand-via-tsconfig',\n    ]) {\n      test(`should support swc and third-party transpilers: ${flavor}`, async () => {\n        const { err, stdout } = await exec(\n          `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} ${flavor}`,\n          {\n            env: {\n              ...process.env,\n              NODE_OPTIONS: `${\n                process.env.NODE_OPTIONS || ''\n              } --require ${require.resolve('../../tests/spy-swc-transpiler')}`,\n            },\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toMatch(\n          'Hello World! swc transpiler invocation count: 1\\n'\n        );\n      });\n    }\n\n    test.suite('should support `traceResolution` compiler option', (test) => {\n      test('prints traces before running code when enabled', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_PATH} --compiler-options=\"{ \\\\\"traceResolution\\\\\": true }\" -e \"console.log('ok')\"`\n        );\n        expect(err).toBeNull();\n        expect(stdout).toContain('======== Resolving module');\n        expect(stdout.endsWith('ok\\n')).toBe(true);\n      });\n\n      test('does NOT print traces when not enabled', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_PATH} -e \"console.log('ok')\"`\n        );\n        expect(err).toBeNull();\n        expect(stdout).not.toContain('======== Resolving module');\n        expect(stdout.endsWith('ok\\n')).toBe(true);\n      });\n    });\n\n    if (semver.gte(process.version, '12.16.0')) {\n      test('swc transpiler supports native ESM emit', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} ./index.ts`,\n          {\n            cwd: resolve(TEST_DIR, 'transpile-only-swc-native-esm'),\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toMatch('Hello file://');\n      });\n    }\n\n    test('should pipe into `ts-node` and evaluate', async () => {\n      const execPromise = exec(CMD_TS_NODE_WITH_PROJECT_FLAG);\n      execPromise.child.stdin!.end(\"console.log('hello')\");\n      const { err, stdout } = await execPromise;\n      expect(err).toBe(null);\n      expect(stdout).toBe('hello\\n');\n    });\n\n    test('should pipe into `ts-node`', async () => {\n      const execPromise = exec(`${CMD_TS_NODE_WITH_PROJECT_FLAG} -p`);\n      execPromise.child.stdin!.end('true');\n      const { err, stdout } = await execPromise;\n      expect(err).toBe(null);\n      expect(stdout).toBe('true\\n');\n    });\n\n    test('should pipe into an eval script', async () => {\n      const execPromise = exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --transpile-only -pe \"process.stdin.isTTY\"`\n      );\n      execPromise.child.stdin!.end('true');\n      const { err, stdout } = await execPromise;\n      expect(err).toBe(null);\n      expect(stdout).toBe('undefined\\n');\n    });\n\n    test('should support require flags', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -r ./hello-world -pe \"console.log('success')\"`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, world!\\nsuccess\\nundefined\\n');\n    });\n\n    test('should support require from node modules', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} -r typescript -e \"console.log('success')\"`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('success\\n');\n    });\n\n    test('should use source maps with react tsx', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} \"throw error react tsx.tsx\"`\n      );\n      expect(err).not.toBe(null);\n      expect(err!.message).toMatch(\n        [\n          `${join(TEST_DIR, './throw error react tsx.tsx')}:100`,\n          \"  bar() { throw new Error('this is a demo'); }\",\n          '                ^',\n          'Error: this is a demo',\n        ].join('\\n')\n      );\n    });\n\n    test('should use source maps with react tsx in --transpile-only mode', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --transpile-only \"throw error react tsx.tsx\"`\n      );\n      expect(err).not.toBe(null);\n      expect(err!.message).toMatch(\n        [\n          `${join(TEST_DIR, './throw error react tsx.tsx')}:100`,\n          \"  bar() { throw new Error('this is a demo'); }\",\n          '                ^',\n          'Error: this is a demo',\n        ].join('\\n')\n      );\n    });\n\n    test('should allow custom typings', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} custom-types`\n      );\n      // This error comes from *node*, meaning TypeScript respected the custom types (good) but *node* could not find the non-existent module (expected)\n      expect(err?.message).toMatch(\n        /Error: Cannot find module 'does-not-exist'/\n      );\n    });\n\n    test('should preserve `ts-node` context with child process', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} child-process`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, world!\\n');\n    });\n\n    test('should import js before ts by default', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} import-order/compiled`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, JavaScript!\\n');\n    });\n\n    const preferTsExtsEntrypoint = semver.gte(process.version, '12.0.0')\n      ? 'import-order/compiled'\n      : 'import-order/require-compiled';\n    test('should import ts before js when --prefer-ts-exts flag is present', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} --prefer-ts-exts ${preferTsExtsEntrypoint}`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, TypeScript!\\n');\n    });\n\n    test('should import ts before js when TS_NODE_PREFER_TS_EXTS env is present', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} ${preferTsExtsEntrypoint}`,\n        {\n          env: { ...process.env, TS_NODE_PREFER_TS_EXTS: 'true' },\n        }\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, TypeScript!\\n');\n    });\n\n    test('should ignore .d.ts files', async () => {\n      const { err, stdout } = await exec(\n        `${CMD_TS_NODE_WITH_PROJECT_FLAG} import-order/importer`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe('Hello, World!\\n');\n    });\n\n    test.suite('issue #884', (test) => {\n      test('should compile', async (t) => {\n        // TODO disabled because it consistently fails on Windows on TS 2.7\n        if (\n          process.platform === 'win32' &&\n          semver.satisfies(ts.version, '2.7')\n        ) {\n          t.log('Skipping');\n          return;\n        } else {\n          const { err, stdout } = await exec(\n            `\"${BIN_PATH}\" --project issue-884/tsconfig.json issue-884`\n          );\n          expect(err).toBe(null);\n          expect(stdout).toBe('');\n        }\n      });\n    });\n\n    test.suite('issue #986', (test) => {\n      test('should not compile', async () => {\n        const { err, stdout, stderr } = await exec(\n          `\"${BIN_PATH}\" --project issue-986/tsconfig.json issue-986`\n        );\n        expect(err).not.toBe(null);\n        expect(stderr).toMatch(\"Cannot find name 'TEST'\"); // TypeScript error.\n        expect(stdout).toBe('');\n      });\n\n      test('should compile with `--files`', async () => {\n        const { err, stdout, stderr } = await exec(\n          `\"${BIN_PATH}\" --files --project issue-986/tsconfig.json issue-986`\n        );\n        expect(err).not.toBe(null);\n        expect(stderr).toMatch('ReferenceError: TEST is not defined'); // Runtime error.\n        expect(stdout).toBe('');\n      });\n    });\n\n    if (semver.gte(ts.version, '2.7.0')) {\n      test('should locate tsconfig relative to entry-point by default', async () => {\n        const { err, stdout } = await exec(`${BIN_PATH} ../a/index`, {\n          cwd: join(TEST_DIR, 'cwd-and-script-mode/b'),\n        });\n        expect(err).toBe(null);\n        expect(stdout).toMatch(/plugin-a/);\n      });\n      test('should locate tsconfig relative to entry-point via ts-node-script', async () => {\n        const { err, stdout } = await exec(`${BIN_SCRIPT_PATH} ../a/index`, {\n          cwd: join(TEST_DIR, 'cwd-and-script-mode/b'),\n        });\n        expect(err).toBe(null);\n        expect(stdout).toMatch(/plugin-a/);\n      });\n      test('should locate tsconfig relative to entry-point with --script-mode', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_PATH} --script-mode ../a/index`,\n          {\n            cwd: join(TEST_DIR, 'cwd-and-script-mode/b'),\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toMatch(/plugin-a/);\n      });\n      test('should locate tsconfig relative to cwd via ts-node-cwd', async () => {\n        const { err, stdout } = await exec(`${BIN_CWD_PATH} ../a/index`, {\n          cwd: join(TEST_DIR, 'cwd-and-script-mode/b'),\n        });\n        expect(err).toBe(null);\n        expect(stdout).toMatch(/plugin-b/);\n      });\n      test('should locate tsconfig relative to cwd in --cwd-mode', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_PATH} --cwd-mode ../a/index`,\n          { cwd: join(TEST_DIR, 'cwd-and-script-mode/b') }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toMatch(/plugin-b/);\n      });\n      test('should locate tsconfig relative to realpath, not symlink, when entrypoint is a symlink', async (t) => {\n        if (\n          lstatSync(\n            join(TEST_DIR, 'main-realpath/symlink/symlink.tsx')\n          ).isSymbolicLink()\n        ) {\n          const { err, stdout } = await exec(\n            `${BIN_PATH} main-realpath/symlink/symlink.tsx`\n          );\n          expect(err).toBe(null);\n          expect(stdout).toBe('');\n        } else {\n          t.log('Skipping');\n          return;\n        }\n      });\n    }\n\n    test.suite('should read ts-node options from tsconfig.json', (test) => {\n      const BIN_EXEC = `\"${BIN_PATH}\" --project tsconfig-options/tsconfig.json`;\n\n      test('should override compiler options from env', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_EXEC} tsconfig-options/log-options1.js`,\n          {\n            env: {\n              ...process.env,\n              TS_NODE_COMPILER_OPTIONS: '{\"typeRoots\": [\"env-typeroots\"]}',\n            },\n          }\n        );\n        expect(err).toBe(null);\n        const { config } = JSON.parse(stdout);\n        expect(config.options.typeRoots).toEqual([\n          join(TEST_DIR, './tsconfig-options/env-typeroots').replace(\n            /\\\\/g,\n            '/'\n          ),\n        ]);\n      });\n\n      test('should use options from `tsconfig.json`', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_EXEC} tsconfig-options/log-options1.js`\n        );\n        expect(err).toBe(null);\n        const { options, config } = JSON.parse(stdout);\n        expect(config.options.typeRoots).toEqual([\n          join(TEST_DIR, './tsconfig-options/tsconfig-typeroots').replace(\n            /\\\\/g,\n            '/'\n          ),\n        ]);\n        expect(config.options.types).toEqual(['tsconfig-tsnode-types']);\n        expect(options.pretty).toBe(undefined);\n        expect(options.skipIgnore).toBe(false);\n        expect(options.transpileOnly).toBe(true);\n        expect(options.require).toEqual([\n          join(TEST_DIR, './tsconfig-options/required1.js'),\n        ]);\n      });\n\n      test('should ignore empty strings in the array options', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_EXEC} tsconfig-options/log-options1.js`,\n          {\n            env: {\n              ...process.env,\n              TS_NODE_IGNORE: '',\n            },\n          }\n        );\n        expect(err).toBe(null);\n        const { options } = JSON.parse(stdout);\n        expect(options.ignore).toEqual([]);\n      });\n\n      test('should have flags override / merge with `tsconfig.json`', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_EXEC} --skip-ignore --compiler-options \"{\\\\\"types\\\\\":[\\\\\"flags-types\\\\\"]}\" --require ./tsconfig-options/required2.js tsconfig-options/log-options2.js`\n        );\n        expect(err).toBe(null);\n        const { options, config } = JSON.parse(stdout);\n        expect(config.options.typeRoots).toEqual([\n          join(TEST_DIR, './tsconfig-options/tsconfig-typeroots').replace(\n            /\\\\/g,\n            '/'\n          ),\n        ]);\n        expect(config.options.types).toEqual(['flags-types']);\n        expect(options.pretty).toBe(undefined);\n        expect(options.skipIgnore).toBe(true);\n        expect(options.transpileOnly).toBe(true);\n        expect(options.require).toEqual([\n          join(TEST_DIR, './tsconfig-options/required1.js'),\n          './tsconfig-options/required2.js',\n        ]);\n      });\n\n      test('should have `tsconfig.json` override environment', async () => {\n        const { err, stdout } = await exec(\n          `${BIN_EXEC} tsconfig-options/log-options1.js`,\n          {\n            env: {\n              ...process.env,\n              TS_NODE_PRETTY: 'true',\n              TS_NODE_SKIP_IGNORE: 'true',\n            },\n          }\n        );\n        expect(err).toBe(null);\n        const { options, config } = JSON.parse(stdout);\n        expect(config.options.typeRoots).toEqual([\n          join(TEST_DIR, './tsconfig-options/tsconfig-typeroots').replace(\n            /\\\\/g,\n            '/'\n          ),\n        ]);\n        expect(config.options.types).toEqual(['tsconfig-tsnode-types']);\n        expect(options.pretty).toBe(true);\n        expect(options.skipIgnore).toBe(false);\n        expect(options.transpileOnly).toBe(true);\n        expect(options.require).toEqual([\n          join(TEST_DIR, './tsconfig-options/required1.js'),\n        ]);\n      });\n\n      if (semver.gte(ts.version, '3.2.0')) {\n        test('should pull ts-node options from extended `tsconfig.json`', async () => {\n          const { err, stdout } = await exec(\n            `${BIN_PATH} --show-config --project ./tsconfig-extends/tsconfig.json`\n          );\n          expect(err).toBe(null);\n          const config = JSON.parse(stdout);\n          expect(config['ts-node'].require).toEqual([\n            resolve(TEST_DIR, 'tsconfig-extends/other/require-hook.js'),\n          ]);\n          expect(config['ts-node'].scopeDir).toBe(\n            resolve(TEST_DIR, 'tsconfig-extends/other/scopedir')\n          );\n          expect(config['ts-node'].preferTsExts).toBe(true);\n        });\n      }\n    });\n\n    test.suite(\n      'should use implicit @tsconfig/bases config when one is not loaded from disk',\n      (_test) => {\n        const test = _test.context(async (t) => ({\n          tempDir: mkdtempSync(join(tmpdir(), 'ts-node-spec')),\n        }));\n        if (\n          semver.gte(ts.version, '3.5.0') &&\n          semver.gte(process.versions.node, '14.0.0')\n        ) {\n          const libAndTarget = semver.gte(process.versions.node, '16.0.0')\n            ? 'es2021'\n            : 'es2020';\n          test('implicitly uses @tsconfig/node14 or @tsconfig/node16 compilerOptions when both TS and node versions support it', async (t) => {\n            // node14 and node16 configs are identical, hence the \"or\"\n            const {\n              context: { tempDir },\n            } = t;\n            const {\n              err: err1,\n              stdout: stdout1,\n              stderr: stderr1,\n            } = await exec(`${BIN_PATH} --showConfig`, { cwd: tempDir });\n            expect(err1).toBe(null);\n            t.like(JSON.parse(stdout1), {\n              compilerOptions: {\n                target: libAndTarget,\n                lib: [libAndTarget],\n              },\n            });\n            const {\n              err: err2,\n              stdout: stdout2,\n              stderr: stderr2,\n            } = await exec(`${BIN_PATH} -pe 10n`, { cwd: tempDir });\n            expect(err2).toBe(null);\n            expect(stdout2).toBe('10n\\n');\n          });\n        } else {\n          test('implicitly uses @tsconfig/* lower than node14 (node12) when either TS or node versions do not support @tsconfig/node14', async ({\n            context: { tempDir },\n          }) => {\n            const { err, stdout, stderr } = await exec(`${BIN_PATH} -pe 10n`, {\n              cwd: tempDir,\n            });\n            expect(err).not.toBe(null);\n            expect(stderr).toMatch(\n              /BigInt literals are not available when targeting lower than|error TS2304: Cannot find name 'n'/\n            );\n          });\n        }\n        test('implicitly loads @types/node even when not installed within local directory', async ({\n          context: { tempDir },\n        }) => {\n          const { err, stdout, stderr } = await exec(\n            `${BIN_PATH} -pe process.env.foo`,\n            {\n              cwd: tempDir,\n              env: { ...process.env, foo: 'hello world' },\n            }\n          );\n          expect(err).toBe(null);\n          expect(stdout).toBe('hello world\\n');\n        });\n        test('implicitly loads local @types/node', async ({\n          context: { tempDir },\n        }) => {\n          await xfs.copyPromise(\n            npath.toPortablePath(tempDir),\n            npath.toPortablePath(join(TEST_DIR, 'local-types-node'))\n          );\n          const { err, stdout, stderr } = await exec(\n            `${BIN_PATH} -pe process.env.foo`,\n            {\n              cwd: tempDir,\n              env: { ...process.env, foo: 'hello world' },\n            }\n          );\n          expect(err).not.toBe(null);\n          expect(stderr).toMatch(\n            \"Property 'env' does not exist on type 'LocalNodeTypes_Process'\"\n          );\n        });\n      }\n    );\n\n    if (semver.gte(ts.version, '3.2.0')) {\n      test.suite(\n        'should bundle @tsconfig/bases to be used in your own tsconfigs',\n        (test) => {\n          const macro = test.macro((nodeVersion: string) => async (t) => {\n            const config = require(`@tsconfig/${nodeVersion}/tsconfig.json`);\n            const { err, stdout, stderr } = await exec(\n              `${BIN_PATH} --showConfig -e 10n`,\n              {\n                cwd: join(TEST_DIR, 'tsconfig-bases', nodeVersion),\n              }\n            );\n            expect(err).toBe(null);\n            t.like(JSON.parse(stdout), {\n              compilerOptions: {\n                target: config.compilerOptions.target,\n                lib: config.compilerOptions.lib,\n              },\n            });\n          });\n          test(`ts-node/node10/tsconfig.json`, macro, 'node10');\n          test(`ts-node/node12/tsconfig.json`, macro, 'node12');\n          test(`ts-node/node14/tsconfig.json`, macro, 'node14');\n          test(`ts-node/node16/tsconfig.json`, macro, 'node16');\n        }\n      );\n    }\n\n    test.suite('compiler host', (test) => {\n      test('should execute cli', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_TS_NODE_WITH_PROJECT_FLAG} --compiler-host hello-world`\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe('Hello, world!\\n');\n      });\n    });\n\n    test('should transpile files inside a node_modules directory when not ignored', async () => {\n      const { err, stdout, stderr } = await exec(\n        `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} from-node-modules/from-node-modules`\n      );\n      if (err)\n        throw new Error(\n          `Unexpected error: ${err}\\nstdout:\\n${stdout}\\nstderr:\\n${stderr}`\n        );\n      expect(JSON.parse(stdout)).toEqual({\n        external: {\n          tsmri: { name: 'typescript-module-required-internally' },\n          jsmri: { name: 'javascript-module-required-internally' },\n          tsmii: { name: 'typescript-module-imported-internally' },\n          jsmii: { name: 'javascript-module-imported-internally' },\n        },\n        tsmie: { name: 'typescript-module-imported-externally' },\n        jsmie: { name: 'javascript-module-imported-externally' },\n        tsmre: { name: 'typescript-module-required-externally' },\n        jsmre: { name: 'javascript-module-required-externally' },\n      });\n    });\n\n    test.suite('should respect maxNodeModulesJsDepth', (test) => {\n      test('for unscoped modules', async () => {\n        const { err, stdout, stderr } = await exec(\n          `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} maxnodemodulesjsdepth`\n        );\n        expect(err).not.toBe(null);\n        expect(stderr.replace(/\\r\\n/g, '\\n')).toMatch(\n          'TSError: ⨯ Unable to compile TypeScript:\\n' +\n            \"maxnodemodulesjsdepth/other.ts(4,7): error TS2322: Type 'string' is not assignable to type 'boolean'.\\n\" +\n            '\\n'\n        );\n      });\n\n      test('for @scoped modules', async () => {\n        const { err, stdout, stderr } = await exec(\n          `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} maxnodemodulesjsdepth-scoped`\n        );\n        expect(err).not.toBe(null);\n        expect(stderr.replace(/\\r\\n/g, '\\n')).toMatch(\n          'TSError: ⨯ Unable to compile TypeScript:\\n' +\n            \"maxnodemodulesjsdepth-scoped/other.ts(7,7): error TS2322: Type 'string' is not assignable to type 'boolean'.\\n\" +\n            '\\n'\n        );\n      });\n    });\n\n    if (semver.gte(ts.version, '3.2.0')) {\n      test('--show-config should log resolved configuration', async (t) => {\n        function native(path: string) {\n          return path.replace(/\\/|\\\\/g, pathSep);\n        }\n        function posix(path: string) {\n          return path.replace(/\\/|\\\\/g, '/');\n        }\n        const { err, stdout } = await exec(\n          `${CMD_TS_NODE_WITH_PROJECT_FLAG} --showConfig`\n        );\n        expect(err).toBe(null);\n        t.is(\n          stdout,\n          JSON.stringify(\n            {\n              'ts-node': {\n                cwd: native(`${ROOT_DIR}/tests`),\n                projectSearchDir: native(`${ROOT_DIR}/tests`),\n                project: native(`${ROOT_DIR}/tests/tsconfig.json`),\n                require: [],\n              },\n              compilerOptions: {\n                target: 'es6',\n                jsx: 'react',\n                noEmit: false,\n                strict: true,\n                typeRoots: [\n                  posix(`${ROOT_DIR}/tests/typings`),\n                  posix(`${ROOT_DIR}/node_modules/@types`),\n                ],\n                sourceMap: true,\n                inlineSourceMap: false,\n                inlineSources: true,\n                declaration: false,\n                outDir: './.ts-node',\n                module: 'commonjs',\n              },\n            },\n            null,\n            2\n          ) + '\\n'\n        );\n      });\n    } else {\n      test('--show-config should log error message when used with old typescript versions', async (t) => {\n        const { err, stderr } = await exec(\n          `${CMD_TS_NODE_WITH_PROJECT_FLAG} --showConfig`\n        );\n        expect(err).not.toBe(null);\n        expect(stderr).toMatch('Error: --show-config requires');\n      });\n    }\n\n    test('should support compiler scope specified via tsconfig.json', async (t) => {\n      const { err, stderr, stdout } = await exec(\n        `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} --project ./scope/c/config/tsconfig.json ./scope/c/index.js`\n      );\n      expect(err).toBe(null);\n      expect(stdout).toBe(`value\\nFailures: 0\\n`);\n    });\n  });\n\n  test.suite('create', (_test) => {\n    const test = _test.context(async (t) => {\n      return {\n        service: t.context.tsNodeUnderTest.create({\n          compilerOptions: { target: 'es5' },\n          skipProject: true,\n        }),\n      };\n    });\n\n    test('should create generic compiler instances', ({\n      context: { service },\n    }) => {\n      const output = service.compile('const x = 10', 'test.ts');\n      expect(output).toMatch('var x = 10;');\n    });\n\n    test.suite('should get type information', (test) => {\n      test('given position of identifier', ({ context: { service } }) => {\n        expect(\n          service.getTypeInfo('/**jsdoc here*/const x = 10', 'test.ts', 21)\n        ).toEqual({\n          comment: 'jsdoc here',\n          name: 'const x: 10',\n        });\n      });\n      test('given position that does not point to an identifier', ({\n        context: { service },\n      }) => {\n        expect(\n          service.getTypeInfo('/**jsdoc here*/const x = 10', 'test.ts', 0)\n        ).toEqual({\n          comment: '',\n          name: '',\n        });\n      });\n    });\n  });\n\n  test.suite('issue #1098', (test) => {\n    function testIgnored(\n      ignored: tsNodeTypes.Service['ignored'],\n      allowed: string[],\n      disallowed: string[]\n    ) {\n      for (const ext of allowed) {\n        // should accept ${ext} files\n        expect(ignored(join(DIST_DIR, `index${ext}`))).toBe(false);\n      }\n      for (const ext of disallowed) {\n        // should ignore ${ext} files\n        expect(ignored(join(DIST_DIR, `index${ext}`))).toBe(true);\n      }\n    }\n\n    test('correctly filters file extensions from the compiler when allowJs=false and jsx=false', (t) => {\n      const { ignored } = t.context.tsNodeUnderTest.create({\n        compilerOptions: {},\n        skipProject: true,\n      });\n      testIgnored(\n        ignored,\n        ['.ts', '.d.ts'],\n        ['.js', '.tsx', '.jsx', '.mjs', '.cjs', '.xyz', '']\n      );\n    });\n    test('correctly filters file extensions from the compiler when allowJs=true and jsx=false', (t) => {\n      const { ignored } = t.context.tsNodeUnderTest.create({\n        compilerOptions: { allowJs: true },\n        skipProject: true,\n      });\n      testIgnored(\n        ignored,\n        ['.ts', '.js', '.d.ts'],\n        ['.tsx', '.jsx', '.mjs', '.cjs', '.xyz', '']\n      );\n    });\n    test('correctly filters file extensions from the compiler when allowJs=false and jsx=true', (t) => {\n      const { ignored } = t.context.tsNodeUnderTest.create({\n        compilerOptions: { allowJs: false, jsx: 'preserve' },\n        skipProject: true,\n      });\n      testIgnored(\n        ignored,\n        ['.ts', '.tsx', '.d.ts'],\n        ['.js', '.jsx', '.mjs', '.cjs', '.xyz', '']\n      );\n    });\n    test('correctly filters file extensions from the compiler when allowJs=true and jsx=true', (t) => {\n      const { ignored } = t.context.tsNodeUnderTest.create({\n        compilerOptions: { allowJs: true, jsx: 'preserve' },\n        skipProject: true,\n      });\n      testIgnored(\n        ignored,\n        ['.ts', '.tsx', '.js', '.jsx', '.d.ts'],\n        ['.mjs', '.cjs', '.xyz', '']\n      );\n    });\n  });\n\n  test.suite('esm', (test) => {\n    if (semver.gte(process.version, '12.16.0')) {\n      test('should compile and execute as ESM', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} index.ts`,\n          {\n            cwd: join(TEST_DIR, './esm'),\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe('foo bar baz biff libfoo\\n');\n      });\n      test('should use source maps', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} \"throw error.ts\"`,\n          {\n            cwd: join(TEST_DIR, './esm'),\n          }\n        );\n        expect(err).not.toBe(null);\n        expect(err!.message).toMatch(\n          [\n            `${pathToFileURL(join(TEST_DIR, './esm/throw error.ts'))\n              .toString()\n              .replace(/%20/g, ' ')}:100`,\n            \"  bar() { throw new Error('this is a demo'); }\",\n            '                ^',\n            'Error: this is a demo',\n          ].join('\\n')\n        );\n      });\n\n      test.suite('supports experimental-specifier-resolution=node', (test) => {\n        test('via --experimental-specifier-resolution', async () => {\n          const {\n            err,\n            stdout,\n          } = await exec(\n            `${CMD_ESM_LOADER_WITHOUT_PROJECT} --experimental-specifier-resolution=node index.ts`,\n            { cwd: join(TEST_DIR, './esm-node-resolver') }\n          );\n          expect(err).toBe(null);\n          expect(stdout).toBe('foo bar baz biff libfoo\\n');\n        });\n        test('via --es-module-specifier-resolution alias', async () => {\n          const {\n            err,\n            stdout,\n          } = await exec(\n            `${CMD_ESM_LOADER_WITHOUT_PROJECT} ${EXPERIMENTAL_MODULES_FLAG} --es-module-specifier-resolution=node index.ts`,\n            { cwd: join(TEST_DIR, './esm-node-resolver') }\n          );\n          expect(err).toBe(null);\n          expect(stdout).toBe('foo bar baz biff libfoo\\n');\n        });\n        test('via NODE_OPTIONS', async () => {\n          const { err, stdout } = await exec(\n            `${CMD_ESM_LOADER_WITHOUT_PROJECT} index.ts`,\n            {\n              cwd: join(TEST_DIR, './esm-node-resolver'),\n              env: {\n                ...process.env,\n                NODE_OPTIONS: `${EXPERIMENTAL_MODULES_FLAG} --experimental-specifier-resolution=node`,\n              },\n            }\n          );\n          expect(err).toBe(null);\n          expect(stdout).toBe('foo bar baz biff libfoo\\n');\n        });\n      });\n\n      test('throws ERR_REQUIRE_ESM when attempting to require() an ESM script when ESM loader is enabled', async () => {\n        const { err, stderr } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} ./index.js`,\n          {\n            cwd: join(TEST_DIR, './esm-err-require-esm'),\n          }\n        );\n        expect(err).not.toBe(null);\n        expect(stderr).toMatch(\n          'Error [ERR_REQUIRE_ESM]: Must use import to load ES Module:'\n        );\n      });\n\n      test('defers to fallback loaders when URL should not be handled by ts-node', async () => {\n        const { err, stdout, stderr } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} index.mjs`,\n          {\n            cwd: join(TEST_DIR, './esm-import-http-url'),\n          }\n        );\n        expect(err).not.toBe(null);\n        // expect error from node's default resolver\n        expect(stderr).toMatch(\n          /Error \\[ERR_UNSUPPORTED_ESM_URL_SCHEME\\]:.*(?:\\n.*){0,1}\\n *at defaultResolve/\n        );\n      });\n\n      test('should bypass import cache when changing search params', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} index.ts`,\n          {\n            cwd: join(TEST_DIR, './esm-import-cache'),\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe('log1\\nlog2\\nlog2\\n');\n      });\n\n      test('should support transpile only mode via dedicated loader entrypoint', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT}/transpile-only index.ts`,\n          {\n            cwd: join(TEST_DIR, './esm-transpile-only'),\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe('');\n      });\n      test('should throw type errors without transpile-only enabled', async () => {\n        const { err, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} index.ts`,\n          {\n            cwd: join(TEST_DIR, './esm-transpile-only'),\n          }\n        );\n        if (err === null) {\n          throw new Error('Command was expected to fail, but it succeeded.');\n        }\n\n        expect(err.message).toMatch('Unable to compile TypeScript');\n        expect(err.message).toMatch(\n          new RegExp(\n            \"TS2345: Argument of type '(?:number|1101)' is not assignable to parameter of type 'string'\\\\.\"\n          )\n        );\n        expect(err.message).toMatch(\n          new RegExp(\n            \"TS2322: Type '(?:\\\"hello world\\\"|string)' is not assignable to type 'number'\\\\.\"\n          )\n        );\n        expect(stdout).toBe('');\n      });\n\n      async function runModuleTypeTest(project: string, ext: string) {\n        const { err, stderr, stdout } = await exec(\n          `${CMD_ESM_LOADER_WITHOUT_PROJECT} ./module-types/${project}/test.${ext}`,\n          {\n            env: {\n              ...process.env,\n              TS_NODE_PROJECT: `./module-types/${project}/tsconfig.json`,\n            },\n          }\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe(`Failures: 0\\n`);\n      }\n\n      test('moduleTypes should allow importing CJS in an otherwise ESM project', async (t) => {\n        // A notable case where you can use ts-node's CommonJS loader, not the ESM loader, in an ESM project:\n        // when loading a webpack.config.ts or similar config\n        const { err, stderr, stdout } = await exec(\n          `${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} --project ./module-types/override-to-cjs/tsconfig.json ./module-types/override-to-cjs/test-webpack-config.cjs`\n        );\n        expect(err).toBe(null);\n        expect(stdout).toBe(``);\n\n        await runModuleTypeTest('override-to-cjs', 'cjs');\n        if (semver.gte(process.version, '14.13.1'))\n          await runModuleTypeTest('override-to-cjs', 'mjs');\n      });\n\n      test('moduleTypes should allow importing ESM in an otherwise CJS project', async (t) => {\n        await runModuleTypeTest('override-to-esm', 'cjs');\n        // Node 14.13.0 has a bug(?) where it checks for ESM-only syntax *before* we transform the code.\n        if (semver.gte(process.version, '14.13.1'))\n          await runModuleTypeTest('override-to-esm', 'mjs');\n      });\n    }\n\n    if (semver.gte(process.version, '12.0.0')) {\n      test('throws ERR_REQUIRE_ESM when attempting to require() an ESM script when ESM loader is *not* enabled and node version is >= 12', async () => {\n        // Node versions >= 12 support package.json \"type\" field and so will throw an error when attempting to load ESM as CJS\n        const { err, stderr } = await exec(`${BIN_PATH} ./index.js`, {\n          cwd: join(TEST_DIR, './esm-err-require-esm'),\n        });\n        expect(err).not.toBe(null);\n        expect(stderr).toMatch(\n          'Error [ERR_REQUIRE_ESM]: Must use import to load ES Module:'\n        );\n      });\n    } else {\n      test('Loads as CommonJS when attempting to require() an ESM script when ESM loader is *not* enabled and node version is < 12', async () => {\n        // Node versions less than 12 do not support package.json \"type\" field and so will load ESM as CommonJS\n        const { err, stdout } = await exec(`${BIN_PATH} ./index.js`, {\n          cwd: join(TEST_DIR, './esm-err-require-esm'),\n        });\n        expect(err).toBe(null);\n        expect(stdout).toMatch('CommonJS');\n      });\n    }\n  });\n});\n"]}